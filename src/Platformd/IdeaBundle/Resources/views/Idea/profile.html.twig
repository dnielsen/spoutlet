{% extends 'SpoutletBundle::layout.html.twig' %}

{% block content %}

    <table class="tblStyle" id="profile">

        <tr>
            <td colspan=2>
                <strong>Public Profile</strong>
            </td>
        </tr>

        <tr>
            <td class="padrt">Username:</td>
            <td> {{ user.username }} </td>
        </tr>
        <tr>
            <td class="padrt">Full Name:</td>
            <td> {{ user.name }} </td>
        </tr>
        {% if user.title %}
            <tr>
                <td class="padrt">Title:</td>
                <td> {{ user.title }} </td>
            </tr>
        {% endif %}
        {% if user.organization %}
        <tr>
            <td class="padrt">Organization:</td>
            <td> {{ user.organization }} </td>
        </tr>
        {% endif %}
        {% if user.industry %}
            <tr>
                <td class="padrt">Industry:</td>
                <td> {{ user.industry }} </td>
            </tr>
        {% endif %}
        {% if user.affiliation %}
        <tr>
            <td class="padrt">Affiliation:</td>
            <td> {{ user.affiliation }} </td>
        </tr>
        {% endif %}
        {% if user.eventRole %}
            <tr>
                <td class="padrt">Event Role:</td>
                <td> {{ user.eventRole }} </td>
            </tr>
        {% endif %}
        {% if user.linkedIn %}
            <tr>
                <td class="padrt">LinkedIn:</td>
                <td> {{ user.linkedIn }} </td>
            </tr>
        {% endif %}
        {% if user.twitterUsername %}
            <tr>
                <td class="padrt">Twitter:</td>
                <td> {{ user.twitterUsername }} </td>
            </tr>
        {% endif %}
        {% if user.website %}
            <tr>
                <td class="padrt">Website:</td>
                <td> {{ user.website }} </td>
            </tr>
        {% endif %}

        {% if ownProfile or isAdmin %}
            <tr>
                <td colspan=2>
                    <strong>Private Information</strong>
                </td>
            </tr>
            <tr>
                <td class="padrt">Email:</td>
                <td> {{ user.email }} </td>
            </tr>
            {% if user.professionalEmail %}
                <tr>
                    <td class="padrt">Professional Email:</td>
                    <td> {{ user.professionalEmail }} </td>
                </tr>
            {% endif %}
            {% if user.mailingAddress %}
                <tr>
                    <td class="padrt">Mailing Address:</td>
                    <td> {{ user.mailingAddress }} </td>
                </tr>
            {% endif %}
        {% endif %}

        {% if user.ideas | length > 0 %}

            <tr>
                <td colspan=2>
                    <strong>Proposed Ideas:</strong>
                </td>
            </tr>

            {% for idea in user.ideas %}
            <tr>
                <td colspan=2>
                    {% set event = idea.getEvent %}
                    {% set group = event.getGroup %}
                    {% if idea.canUserView(app.user) %}<a href="{{ path('idea_show', {'groupSlug': group.getSlug, 'eventSlug': event.getSlug, 'id': idea.id}) }}">{{ event.name }} - {{ idea.name }}</a><br>{% endif %}
                </td>
            </tr>
            {% endfor %}

        {% endif %}

    </table>

{% endblock %}
