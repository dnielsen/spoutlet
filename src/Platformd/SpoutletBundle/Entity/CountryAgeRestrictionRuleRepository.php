<?php

namespace Platformd\SpoutletBundle\Entity;

use Doctrine\ORM\EntityRepository;

/**
 * CountryAgeRestrictionRuleRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class CountryAgeRestrictionRuleRepository extends EntityRepository
{
    public function isAllowed($age, $country)
    {
        if ($country->getId() == $this->getCountry()){

            if ($age > $this->getMinAge() && $age < $this->getMaxAge()) {
                return $this->getRuleType();
            }

            return !$this->getRuleType();

        }

        return null;
    }
}
