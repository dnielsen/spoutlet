<div id="news-content-scroll" style="height: 600px;">
    {% if userIsAdminOrOwner %}
        <a href='{{ path('group_add_news', {'id' : group.id }) }}'>Add News</a>
    {% endif %}
    {% set reportContentType = 'GroupNews' %}
    {% if groupNews is defined %}

        {% for article in groupNews %}

            <div class="group-news-item" id="news-item-{{ article.id }}" style="margin: 20px;">
                <div class="group-news-actions">
                    {% if userIsAdminOrOwner %}
                        <a href="{{ path('group_delete_news', { 'id' : group.id, 'newsId' : article.id })}}" onclick="return confirm('Are you sure you want to delete this news article?');">delete</a> |
                        <a href="{{ path('group_edit_news', { 'id' : group.id, 'newsId' : article.id })}}">edit</a> |
                    {% endif %}
                    <a href="javascript:void(0);" class="report-content" report-data="{{ article.id }}">report</a>
                </div>
                <h2>{{ article.title }}</h2>
                <div class="group-news-date">Announced on {{ article.createdAt | date('F d, Y') }}</div>
                <div class="group-news-article">
                    {{ article.article | raw }}
                </div>
            </div>
        {% else %}
            <p>No news articles yet... please come back later!</p>
        {% endfor %}
    {% else %}
        <p>No news articles yet... please come back later!</p>
    {% endif %}
</div>
{% include 'SpoutletBundle::_reportContentPopup.html.twig' %}

<script type="text/javascript">
    $(function () {

        $('#news-content-scroll').mCustomScrollbar();

        $('#news-content-scroll div').expander({
            slicePoint:       80,  // default is 100
            expandPrefix:     ' ', // default is '... '
            expandText:       '[...]', // default is 'read more'
            collapseTimer:    5000, // re-collapses after 5 seconds; default is 0, so no re-collapsing
            userCollapseText: '[^]'  // default is 'read less'
        });
    });
</script>
