<?php

namespace Application\Migrations;

use Doctrine\DBAL\Migrations\AbstractMigration,
    Doctrine\DBAL\Schema\Schema;

/**
 * Auto-generated Migration: Please modify to your need!
 */
class Version20130224125655 extends AbstractMigration
{
    public function up(Schema $schema)
    {
        // this up() migration is autogenerated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() != "mysql");

        $this->addSql("ALTER TABLE pd_site ADD fullDomain VARCHAR(255) NOT NULL, ADD supportEmailAddress VARCHAR(255) NOT NULL, DROP subDomain");

        $this->addSql("UPDATE `pd_site` SET `fullDomain`='demo.alienwarearena.com', `supportEmailAddress`='demo@alienwarearena.com' WHERE `id`='1';");
        $this->addSql("UPDATE `pd_site` SET `fullDomain`='japan.alienwarearena.com', `supportEmailAddress`='japan@alienwarearena.com' WHERE `id`='2';");
        $this->addSql("UPDATE `pd_site` SET `fullDomain`='china.alienwarearena.com', `supportEmailAddress`='china@alienwarearena.com' WHERE `id`='3';");
        $this->addSql("UPDATE `pd_site` SET `fullDomain`='na.alienwarearena.com', `supportEmailAddress`='na@alienwarearena.com' WHERE `id`='4';");
        $this->addSql("UPDATE `pd_site` SET `fullDomain`='eu.alienwarearena.com', `supportEmailAddress`='eu@alienwarearena.com' WHERE `id`='5';");
        $this->addSql("UPDATE `pd_site` SET `fullDomain`='latam.alienwarearena.com', `supportEmailAddress`='latam@alienwarearena.com' WHERE `id`='6';");
        $this->addSql("UPDATE `pd_site` SET `fullDomain`='in.alienwarearena.com', `supportEmailAddress`='in@alienwarearena.com' WHERE `id`='7';");
        $this->addSql("UPDATE `pd_site` SET `fullDomain`='mysg.alienwarearena.com', `supportEmailAddress`='mysg@alienwarearena.com' WHERE `id`='8';");
        $this->addSql("UPDATE `pd_site` SET `fullDomain`='anz.alienwarearena.com', `supportEmailAddress`='anz@alienwarearena.com' WHERE `id`='9';");

    }

    public function down(Schema $schema)
    {
        // this down() migration is autogenerated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() != "mysql");

        $this->addSql("ALTER TABLE pd_site ADD subDomain VARCHAR(255) NOT NULL, DROP fullDomain, DROP supportEmailAddress");
    }
}
