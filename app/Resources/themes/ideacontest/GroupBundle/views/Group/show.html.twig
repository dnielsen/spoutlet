{% extends 'IdeaBundle::group_layout.html.twig' %}

{% block title %}{{ group.name }}{% endblock %}

{% block content %}

    <div id="row1">
        <h2 class="left spcr-t">{{ group.name }}</h2>
        <br/><hr/>

        {% include 'GroupBundle:Group:_subNav.html.twig' %}

        <p>{{ group.description | striptags }}</p><br/>
    </div>
    <div id=row2>
        <div class="cBx1">

            <h2 class="left">Events</h2>

            {% if is_granted('ROLE_ADMIN') or group.isOwner(app.user) %}
                <a href="{{ path('idea_admin_event', {'groupSlug': group.slug}) }}" class="left spcr-l2 btn">Create Event</a>
            {% endif %}

            <br/><hr/>

            {% if group.events|length > 0 %}
                {% for event in group.events %}
                    <a href="{{ path('group_event_view', { 'groupSlug': group.slug, 'eventSlug': event.slug }) }}">{{ event.name }}</a>
                     - {{ event.content|truncate(175) }}<br/><hr/>
                {% endfor %}
            {% endif %}

        </div>
        <div class="cBx2">
            <h2 class="left">Members</h2>
            <br/><hr/>
            <div style="overflow-y: auto">
                {% for member in group.members %}
                        - {{ member.name }}<br/>
                    {% else %}
                        There are no members of this group yet.
                    {% endfor %}
            </div>
        </div>
    </div>


{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {% include 'GroupBundle:Group:_css_assets.html.twig' %}
{% endblock %}
